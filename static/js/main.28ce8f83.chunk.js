(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[1],{29:function(e,a,t){e.exports=t.p+"static/media/icons.d3b0947f.svg"},39:function(e,a,t){e.exports=t(54)},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(6),c=t.n(i),o=t(22),s=t(33),l=t.n(s),u=(t(48),t(49),t(17)),m=t(2),d=t.n(m),h=(t(50),t(29)),p=t.n(h);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=r.a.useState(e),t=Object(u.a)(a,2),n=t[0],i=t[1];return{clear:function(){return i("")},value:function(){return n},set:function(e){return i(e)}}}f.propTypes={defaultValue:d.a.string};var g=function(e){var a=e.onSearch,t=f(e.location);return r.a.createElement("form",{className:"search",onSubmit:function(e){e.preventDefault(),t.value().trim()&&(a(t.value()),t.clear())}},r.a.createElement("div",{className:"search-field"},r.a.createElement("svg",{className:"search-icon",width:"18",height:"18"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#search")})),r.a.createElement("input",{value:t.value(),type:"search",className:"search-input",onChange:function(e){return t.set(e.target.value)},placeholder:"Search city..."})),r.a.createElement("button",{className:"search-button",type:"submit"},r.a.createElement("svg",{width:"15",height:"10"},r.a.createElement("use",{xlinkHref:"".concat(p.a,"#arrow")}))))},y=(t(51),function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:".5rem"}},r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),v=(t(52),function(){var e=r.a.lazy((function(){return new Promise((function(e){return setTimeout((function(){return e(Promise.all([t.e(0),t.e(5)]).then(t.bind(null,90)))}),500)}))})),a=r.a.lazy((function(){return new Promise((function(e){return setTimeout((function(){return e(Promise.all([t.e(0),t.e(4)]).then(t.bind(null,89)))}),500)}))})),n="jmcDOWHOn6Mf6tt7Usdr7wTsWXoplEUu",i=Object(o.c)(),c=r.a.useState({isLoading:!1,error:!1}),s=Object(u.a)(c,2),l=s[0],m=s[1],h=r.a.useState({LocationKey:"",LocationName:""}),p=Object(u.a)(h,2),f=p[0],v=p[1],b=r.a.useState(),E=Object(u.a)(b,2),w=E[0],k=E[1],D=r.a.useState([]),N=Object(u.a)(D,2),L=N[0],S=N[1],T=function(e){var a;switch(e){case 1:case 2:case 30:a="clear-day";break;case 3:case 4:case 5:a="clear-cloudy-day";break;case 6:a="partly-cloudy-day";break;case 7:case 8:case 11:a="cloudy";break;case 12:case 18:a="showers";break;case 13:case 14:a="drizzle-day";break;case 15:case 16:case 17:a="thunderstroms";break;case 19:case 20:case 21:case 43:a="snow-flurries";break;case 22:case 23:case 24:case 44:a="snow";break;case 25:case 26:case 29:a="sleet";break;case 31:case 33:case 34:a="clear-night";break;case 32:a="windy";break;case 35:case 36:case 37:a="clear-cloudy-night";break;case 38:a="partly-cloudy-night";break;case 39:case 40:a="drizzle-night";break;case 41:case 42:a="thunderstroms";break;default:a="clear-day"}return a},W=function(e){fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey="+n+"&q="+e+"&language=en-US").then((function(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):(m({isLoading:!0,error:!1}),e.json())})).then((function(e){var a=e.map((function(e){return{LocationKey:e.Key,LocationName:e.LocalizedName+", "+e.Country.LocalizedName}}))[0];a?(v(a),m({isLoading:!1,error:!1}),I(a.LocationKey)):(i.show("\u0421ity not found. Let's try again!",{title:"Nothing found"}),m({isLoading:!1,error:!0}))})).catch((function(){i.show("Looks like the AccuWeather API limit has been reached. \nDon\u2019t be sad, come back tomorrow and try again!",{title:"Something is wrong"}),m({isLoading:!1,error:!0})}))},I=function(e){fetch("https://dataservice.accuweather.com/currentconditions/v1/"+e+"?apikey="+n).then((function(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):(m({isLoading:!0,error:!1}),e.json())})).then((function(a){var t=a.map((function(e){return{LocalObservationDateTime:e.LocalObservationDateTime,WeatherIcon:T(e.WeatherIcon),IsDayTime:e.IsDayTime,Temperature:{Imperial:{Value:e.Temperature.Imperial.Value,Unit:e.Temperature.Imperial.Unit},Metric:{Value:e.Temperature.Metric.Value,Unit:e.Temperature.Metric.Unit}}}}));t?(k(t[0]),m({isLoading:!1,error:!1}),P(e)):(i.show("Forecast not found",{title:"Not found"}),m({isLoading:!1,error:!0}))})).catch((function(){i.show("Looks like the AccuWeather API limit has been reached. \nDon\u2019t be sad, come back tomorrow and try again!",{title:"Something is wrong"}),m({isLoading:!1,error:!0})}))},P=function(e){fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+e+"?apikey="+n+"&language=en-US&details=true&metric=true").then((function(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):(m({isLoading:!0,error:!1}),e.json())})).then((function(e){var a=e.DailyForecasts.map((function(e){return{Date:e.Date,Day:{Icon:T(e.Day.Icon),Phrase:e.Day.IconPhrase,RainProbability:e.Day.RainProbability,CloudCover:e.Day.CloudCover,Temperature:{Value:e.Temperature.Maximum.Value,RealFeelValue:e.RealFeelTemperature.Maximum.Value,Unit:e.Temperature.Maximum.Unit},Wind:{SpeedValue:e.Day.Wind.Speed.Value,SpeedUnit:e.Day.Wind.Speed.Unit,DirectionDegrees:e.Day.Wind.Direction.Degrees,DirectionName:e.Day.Wind.Direction.Localized}},Night:{Icon:T(e.Night.Icon),Phrase:e.Night.IconPhrase,RainProbability:e.Night.RainProbability,CloudCover:e.Night.CloudCover,Temperature:{Value:e.Temperature.Minimum.Value,RealFeelValue:e.RealFeelTemperature.Minimum.Value,Unit:e.Temperature.Minimum.Unit},Wind:{SpeedValue:e.Night.Wind.Speed.Value,SpeedUnit:e.Night.Wind.Speed.Unit,DirectionDegrees:e.Night.Wind.Direction.Degrees,DirectionName:e.Night.Wind.Direction.Localized}},Sun:{Rise:e.Sun.Rise,Set:e.Sun.Set},Moon:{Rise:e.Moon.Rise,Set:e.Moon.Set}}}));a?(S(a),m({isLoading:!1,error:!1})):(i.show("Forecast not found",{title:"Not found"}),m({isLoading:!1,error:!0}))})).catch((function(){i.show("Looks like the AccuWeather API limit has been reached. \nDon\u2019t be sad, come back tomorrow and try again!",{title:"Something is wrong"}),m({isLoading:!1,error:!0})}))};return T.propTypes={id:d.a.number.isRequired},W.propTypes={location:d.a.string.isRequired},I.propTypes={locationKey:d.a.string.isRequired},P.propTypes={locationKey:d.a.string.isRequired},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},!l.error&&w&&r.a.createElement("div",null,!l.isLoading&&r.a.createElement("div",null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement(y,null)},r.a.createElement(g,{className:"search",onSearch:W,location:f.LocationName}),r.a.createElement(e,{currentInfo:w,locationName:f.LocationName}),r.a.createElement(a,{forecasts:L}))),l.isLoading&&r.a.createElement(y,null)),!l.isLoading&&!l.error&&!w&&r.a.createElement("div",null,r.a.createElement("h1",{className:"search-title"},"Weather Forecast"),r.a.createElement(g,{className:"search",onSearch:W})),l.error&&r.a.createElement("div",null,r.a.createElement("h1",{className:"search-title"},"Weather Forecast"),r.a.createElement(g,{className:"search",onSearch:W}))),r.a.createElement("div",{className:"footer"}),r.a.createElement("div",{className:"api-provider"},r.a.createElement("a",{href:"https://www.accuweather.com/"},"Powered by AccuWeather")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{template:l.a,position:o.b.MIDDLE},r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,2,3]]]);
//# sourceMappingURL=main.28ce8f83.chunk.js.map